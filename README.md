# dev-to

ä¸€å¥—é¢å‘ **AI Agent å¹³å°**å’Œ**æ™ºèƒ½ä½“å®¹å™¨**çš„ React ç»„ä»¶å¼€å‘å·¥å…·é“¾ï¼Œè®©ç¬¬ä¸‰æ–¹å¼€å‘è€…äº«å—"æœ¬åœ°çº§"çš„å¼€å‘ä½“éªŒã€‚

## ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ

éšç€ AI Agent å’Œæ™ºèƒ½ä½“å¹³å°çš„å…´èµ·ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¼ä¸šï¼ˆå¦‚é›†å›¢å…¬å¸ã€AI å¹³å°ï¼‰éœ€è¦æ„å»ºä¸€ä¸ª**æ™ºèƒ½ä½“å®¹å™¨**ï¼Œå…è®¸ï¼š
- ğŸ¤– é›†å›¢å†…ä¸åŒä¸šåŠ¡çº¿å¼€å‘å„è‡ªçš„æ™ºèƒ½ä½“å¡ç‰‡
- ğŸ”Œ ç¬¬ä¸‰æ–¹å¼€å‘è€…ä¸ºå¹³å°æä¾›æ’ä»¶ç»„ä»¶
- ğŸ¢ å¤šå›¢é˜Ÿåä½œï¼Œå„è‡ªç»´æŠ¤ç‹¬ç«‹çš„ä¸šåŠ¡ç»„ä»¶

**ä¼ ç»Ÿå¼€å‘æ¨¡å¼çš„ç—›ç‚¹ï¼š**

1. **å®¿ä¸»ç¯å¢ƒé»‘ç›’**: ç»„ä»¶å¿…é¡»éƒ¨ç½²åˆ°å®¹å™¨æ‰èƒ½è°ƒè¯•ï¼Œå¼€å‘è€…çœ‹ä¸åˆ°å®¿ä¸»å†…éƒ¨ç»†èŠ‚
2. **è°ƒè¯•åé¦ˆæ…¢**: æ¯æ¬¡ä¿®æ”¹éƒ½è¦é‡æ–°æ„å»ºã€éƒ¨ç½²ï¼Œæ— æ³•äº«å—çƒ­æ›´æ–°ï¼ˆHMRï¼‰
3. **ç”Ÿäº§ç¯å¢ƒéš¾è°ƒè¯•**: çº¿ä¸Šé—®é¢˜æ— æ³•åƒæœ¬åœ°ä¸€æ ·æ‰“æ–­ç‚¹ã€æŸ¥çœ‹æ—¥å¿—
4. **èµ„æºè·¯å¾„é—®é¢˜**: ç»„ä»¶ä¸­çš„å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºåœ¨å®¹å™¨ç¯å¢ƒä¸­ 404
5. **è¿è¡Œæ—¶å†²çª**: å®¹å™¨å’Œç»„ä»¶å„è‡ªçš„ React å®ä¾‹å†²çªï¼Œå¯¼è‡´ Hook æŠ¥é”™

**dev-to çš„è§£å†³æ–¹æ¡ˆï¼š**

âœ¨ **å®¿ä¸»ç»†èŠ‚éšè—ï¼Œç»„ä»¶é€»è¾‘é€æ˜**
- å¼€å‘è€…æ— éœ€å…³å¿ƒå®¹å™¨çš„å¤æ‚æ€§ï¼Œä¸“æ³¨äºè‡ªå·±çš„ç»„ä»¶å¼€å‘
- åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œç»„ä»¶å†…éƒ¨é€»è¾‘å®Œå…¨æ•äº®ï¼Œæ”¯æŒæ–­ç‚¹ã€æ—¥å¿—ã€çƒ­æ›´æ–°

âš¡ **æœ¬åœ°å¼€å‘ â‰ˆ ç”Ÿäº§è°ƒè¯•**
- åœ¨æœ¬åœ° Vite Dev Server ä¸Šå¼€å‘ï¼Œå®¹å™¨å®æ—¶åŠ è½½å¹¶çƒ­æ›´æ–°
- ç”Ÿäº§ç¯å¢ƒä¹Ÿèƒ½äº«å—ç±»ä¼¼æœ¬åœ°çš„è°ƒè¯•ä½“éªŒï¼ˆå¯é€‰ï¼‰

ğŸ”— **æ ‡å‡†åŒ–æ¡¥æ¥åè®®**
- ç»Ÿä¸€çš„ç»„ä»¶åŠ è½½è§„èŒƒï¼Œå®¹å™¨å’Œç»„ä»¶è§£è€¦
- æ”¯æŒå¤šå›¢é˜Ÿã€è·¨ç»„ç»‡çš„åä½œå¼€å‘

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ é¢å‘ AI Agent å¹³å°çš„è®¾è®¡

- **å®¹å™¨ â†” ç»„ä»¶è§£è€¦**: å®¹å™¨æä¾›æ ‡å‡†åŒ–çš„åŠ è½½æ¥å£ï¼Œç»„ä»¶å¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘
- **ç¬¬ä¸‰æ–¹å‹å¥½**: å¤–éƒ¨å¼€å‘è€…æ— éœ€äº†è§£å®¹å™¨å†…éƒ¨å®ç°ï¼Œåªéœ€æŒ‰è§„èŒƒå¼€å‘ç»„ä»¶
- **å¤šå›¢é˜Ÿåä½œ**: é›†å›¢å†…å„ä¸šåŠ¡çº¿ç‹¬ç«‹ç»´æŠ¤è‡ªå·±çš„æ™ºèƒ½ä½“å¡ç‰‡ï¼Œäº’ä¸å¹²æ‰°

### ğŸš€ æè‡´çš„å¼€å‘ä½“éªŒ

- âš¡ **è·¨ç¯å¢ƒ HMR**: åœ¨æœ¬åœ° Vite å¼€å‘ï¼Œå®¹å™¨å®æ—¶çƒ­æ›´æ–°ï¼Œç§’çº§åé¦ˆ
- ğŸ› **ç”Ÿäº§çº§è°ƒè¯•**: æ”¯æŒåœ¨ç”Ÿäº§ç¯å¢ƒçš„å®¹å™¨ä¸­åŠ è½½æœ¬åœ°å¼€å‘ç‰ˆç»„ä»¶ï¼Œåƒæœ¬åœ°ä¸€æ ·è°ƒè¯•
- ğŸ” **å®Œå…¨é€æ˜**: ç»„ä»¶å†…éƒ¨æ–­ç‚¹ã€æ—¥å¿—ã€æºç æ˜ å°„å®Œæ•´å¯ç”¨
- ğŸ–¼ï¸ **èµ„æºè‡ªåŠ¨å¤„ç†**: CSSã€å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºè‡ªåŠ¨é‡å®šå‘åˆ° Vite Dev Server

### ğŸ“¦ å®Œæ•´çš„å·¥å…·é“¾

- ğŸ› ï¸ **å†…ç½®è°ƒè¯•é¢æ¿**: å¯è§†åŒ–æŸ¥çœ‹ç»„ä»¶æ˜ å°„ã€HMR ç»Ÿè®¡ã€èµ„æºè¿½è¸ª
- ğŸ“¤ **UMD æ„å»º**: ä¸€é”®å°†ç»„ä»¶æ‰“åŒ…ä¸ºå¯ç‹¬ç«‹åˆ†å‘çš„ UMD åŒ…
- ğŸš€ **å¿«é€Ÿè„šæ‰‹æ¶**: è‡ªåŠ¨ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ç»„ä»¶é¡¹ç›®æ¨¡æ¿
- ğŸ”— **è¿è¡Œæ—¶å…±äº«**: ç»Ÿä¸€ React å®ä¾‹ï¼Œé¿å…å¤šå®ä¾‹å†²çª

---

## ğŸ“¦ Packages

| Package | Version | è¯´æ˜ |
|---------|---------|------|
| [@dev-to/react-plugin](./packages/react-plugin) | [![npm](https://img.shields.io/npm/v/@dev-to/react-plugin.svg)](https://www.npmjs.com/package/@dev-to/react-plugin) | **Vite ä¾§æ’ä»¶** - åœ¨ Vite Dev Server ä¸Šæš´éœ²ç¨³å®šçš„æ¡¥æ¥å…¥å£ |
| [@dev-to/react-loader](./packages/react-loader) | [![npm](https://img.shields.io/npm/v/@dev-to/react-loader.svg)](https://www.npmjs.com/package/@dev-to/react-loader) | **å®¿ä¸»ä¾§åŠ è½½å™¨** - åœ¨ä»»æ„é¡µé¢ä¸­åŠ¨æ€åŠ è½½è¿œç¨‹ React ç»„ä»¶ |
| [create-dev-to](packages/create-dev-to) | [![npm](https://img.shields.io/npm/v/create-dev-to.svg)](https://www.npmjs.com/package/create-dev-to) | **è„šæ‰‹æ¶å·¥å…·** - å¿«é€Ÿåˆ›å»ºé›†æˆ dev-to çš„å‰ç«¯é¡¹ç›®ï¼ˆæ”¯æŒå¤šæ¡†æ¶ï¼‰ |
| [@dev-to/react-shared](./packages/react-shared) | [![npm](https://img.shields.io/npm/v/@dev-to/react-shared.svg)](https://www.npmjs.com/package/@dev-to/react-shared) | **å…±äº«åè®®** - Vite ä¾§ä¸å®¿ä¸»ä¾§çš„é€šä¿¡åè®®å’Œç±»å‹å®šä¹‰ |
| @dev-to/react-template | - | **ç¤ºä¾‹é¡¹ç›®** - æ¼”ç¤º Vite ç»„ä»¶æä¾›æ–¹çš„å®Œæ•´å®ç° |
| @dev-to/react-playground | - | **ç¤ºä¾‹é¡¹ç›®** - æ¼”ç¤ºå®¿ä¸»åº”ç”¨å¦‚ä½•åŠ è½½è¿œç¨‹ç»„ä»¶ |

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### å…¸å‹åœºæ™¯ï¼šAI Agent å¹³å° + ç¬¬ä¸‰æ–¹å¼€å‘è€…

```mermaid
graph TB
    subgraph Container["ğŸ—ï¸ AI Agent æ™ºèƒ½ä½“å®¹å™¨ (é›†å›¢/å¹³å°)"]
        subgraph Runtime["å®¹å™¨è¿è¡Œæ—¶ (React Application)"]
            R["â€¢ æä¾›ç»Ÿä¸€çš„ UI æ¡†æ¶ â€¢ ç®¡ç†æ™ºèƒ½ä½“ç”Ÿå‘½å‘¨æœŸ â€¢ å¤„ç†ç”¨æˆ·äº¤äº’å’Œè·¯ç”±"]
        end

        subgraph Loader["@dev-to/react-loader (ç»„ä»¶åŠ è½½å±‚)"]
            L["â€¢ åŠ è½½è¿œç¨‹ç»„ä»¶ (å¼€å‘ç¯å¢ƒ: Vite Dev Server) â€¢ åŠ è½½è¿œç¨‹ç»„ä»¶ (ç”Ÿäº§ç¯å¢ƒ: CDN/é™æ€æœåŠ¡å™¨) â€¢ æ”¯æŒå¼€å‘/ç”Ÿäº§æ— ç¼åˆ‡æ¢"]
        end
    end

    Container -->|HTTP/S| DevA
    Container -->|HTTP/S| DevB
    Container -->|HTTP/S| DevC

    subgraph DevA["ä¸šåŠ¡çº¿ A (æœ¬åœ°å¼€å‘)"]
        A["Vite Dev localhost:5173<br/><br/>@dev-to/react-plugin<br/><br/>ç»„ä»¶: å®¢æœå¡ç‰‡, è®¢å•å¡ç‰‡"]
    end

    subgraph DevB["ä¸šåŠ¡çº¿ B (æœ¬åœ°å¼€å‘)"]
        B["Vite Dev localhost:5174<br/><br/>@dev-to/react-plugin<br/><br/>ç»„ä»¶: æŠ¥è¡¨å¡ç‰‡, å®¡æ‰¹å¡ç‰‡"]
    end

    subgraph DevC["ç¬¬ä¸‰æ–¹å¼€å‘è€… (æœ¬åœ°å¼€å‘)"]
        C["Vite Dev localhost:5175<br/><br/>@dev-to/react-plugin<br/><br/>ç»„ä»¶: å¤©æ°”æ’ä»¶, æ—¥å†æ’ä»¶"]
    end
```

**æ¨¡å¼è¯´æ˜ï¼š**
- ã€å¼€å‘æ¨¡å¼ã€‘å®¹å™¨åŠ è½½ `http://localhost:517X` ä¸Šçš„ç»„ä»¶ â†’ å®æ—¶ HMR
- ã€ç”Ÿäº§æ¨¡å¼ã€‘å®¹å™¨åŠ è½½ CDN ä¸Šçš„ UMD åŒ… â†’ ç¨³å®šè¿è¡Œ
- ã€ç”Ÿäº§è°ƒè¯•ã€‘å®¹å™¨ä¸´æ—¶åˆ‡æ¢åˆ° `http://localhost:517X` â†’ åƒæœ¬åœ°ä¸€æ ·è°ƒè¯•

### å·¥ä½œæµç¨‹

**ğŸ”¨ ç»„ä»¶å¼€å‘è€…çš„è§†è§’**

1. ä½¿ç”¨è„šæ‰‹æ¶åˆ›å»ºç»„ä»¶é¡¹ç›®
2. åœ¨æœ¬åœ° Vite Dev Server å¼€å‘ï¼ˆå¦‚ `localhost:5173`ï¼‰
3. å‘ŠçŸ¥å®¹å™¨å›¢é˜Ÿç»„ä»¶çš„è®¿é—®åœ°å€å’Œåç§°
4. å®¹å™¨å›¢é˜Ÿåœ¨å®¹å™¨ä¸­é…ç½®åŠ è½½è¯¥ç»„ä»¶
5. **å¼€å‘è€…ä¿®æ”¹ä»£ç  â†’ å®¹å™¨ä¸­çš„ç»„ä»¶å®æ—¶çƒ­æ›´æ–°** âš¡
6. è°ƒè¯•å®Œæˆåï¼Œæ„å»º UMD åŒ…å¹¶éƒ¨ç½²åˆ° CDN

**ğŸ¢ å®¹å™¨å›¢é˜Ÿçš„è§†è§’**

1. åœ¨å®¹å™¨ä¸­é›†æˆ `@dev-to/react-loader`
2. é…ç½®éœ€è¦åŠ è½½çš„ç»„ä»¶åˆ—è¡¨ï¼ˆå¯åŠ¨æ€é…ç½®ï¼‰
3. å¼€å‘ç¯å¢ƒï¼šåŠ è½½å¼€å‘è€…çš„æœ¬åœ° Vite Dev Server
4. ç”Ÿäº§ç¯å¢ƒï¼šåŠ è½½ CDN ä¸Šçš„ UMD åŒ…
5. **æ— éœ€ä¿®æ”¹å®¹å™¨ä»£ç ï¼Œæ–°ç»„ä»¶å³å¯æ¥å…¥** ğŸ”Œ

### æ ¸å¿ƒé€šä¿¡åè®®

**Bridge Contract** - æ¡¥æ¥åˆçº¦ (`contract.js`)

```json5
{
  paths: {
    contract: '/__dev_to_react__/contract.js',
    initClient: '/__dev_to_react__/init.js',
    reactRuntime: '/__dev_to_react__/react-runtime.js'
  },
  events: {
    fullReload: 'dev_to_react:full-reload',
    hmrUpdate: 'dev_to_react:hmr-update'
  },
  dev: {
    componentMap: {
      'MyCard': 'src/components/MyCard.tsx',
      // ...
    }
  }
}
```

### åŒ…ä¾èµ–å…³ç³»

```
@dev-to/react-shared (åŸºç¡€åè®®å±‚)
  â”œâ”€â”€ @dev-to/react-plugin (Vite ä¾§)
  â”‚   â””â”€â”€ @dev-to/react-template (ç¤ºä¾‹)
  â”‚
  â””â”€â”€ @dev-to/react-loader (å®¿ä¸»ä¾§)
      â””â”€â”€ @dev-to/react-playground (ç¤ºä¾‹)

create-dev-to (ç‹¬ç«‹è„šæ‰‹æ¶)
```

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### æ–¹å¼ 1: ä½¿ç”¨è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›® (æ¨è)

```bash
# ä½¿ç”¨ npmï¼Œæˆ–è€… pnpmã€yarnã€bun ç­‰
npm create dev-to

# æˆ–è€…ç›´æ¥ä½¿ç”¨ create-dev-to å‘½ä»¤
npx create-dev-to
```

è„šæ‰‹æ¶ä¼šè‡ªåŠ¨ï¼š
1. é€‰æ‹©æ¡†æ¶ (Reactã€Vue ç­‰ï¼Œç›®å‰ React å·²æ”¯æŒ)
2. é€‰æ‹©åŒ…ç®¡ç†å™¨ (pnpm/npm/yarn/bun)
3. é€‰æ‹© React æ¨¡æ¿ (TypeScript/JavaScript)
4. è‡ªåŠ¨æ³¨å…¥ `@dev-to/react-plugin` åˆ° `vite.config.ts`
5. å®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨

### æ–¹å¼ 2: æ‰‹åŠ¨é›†æˆåˆ°ç°æœ‰é¡¹ç›®

#### ç¬¬ä¸€æ­¥: å®‰è£…æ’ä»¶ (ç»„ä»¶æä¾›æ–¹)

```bash
npm install @dev-to/react-plugin -D
```

åœ¨ `vite.config.ts` ä¸­é…ç½®æ’ä»¶ï¼š

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { devToReactPlugin } from '@dev-to/react-plugin'

export default defineConfig({
  server: {
    port: 5173,
    cors: true, // é‡è¦ï¼šå…è®¸è·¨åŸŸè®¿é—®
  },
  plugins: [
    react(),
    devToReactPlugin({
      // å®šä¹‰å“ªäº›ç»„ä»¶éœ€è¦å¯¹å¤–æš´éœ²
      MyCard: 'src/components/MyCard.tsx',
      MyHeader: 'src/components/Header.tsx',
    }),
  ],
})
```

#### ç¬¬äºŒæ­¥: å®‰è£…åŠ è½½å™¨ (å®¿ä¸»åº”ç”¨)

```bash
npm install @dev-to/react-loader
```

åœ¨å®¿ä¸»åº”ç”¨ä¸­ä½¿ç”¨ `ReactLoader` ç»„ä»¶ï¼š

```tsx
import { ReactLoader } from '@dev-to/react-loader'

function App() {
  return (
    <div>
      <h1>å®¿ä¸»åº”ç”¨</h1>

      {/* åŠ è½½è¿œç¨‹ç»„ä»¶ */}
      <ReactLoader
        origin="http://localhost:5173"
        name="MyCard"
        componentProps={{ title: 'æ ‡é¢˜', count: 42 }}
      />
    </div>
  )
}
```

#### ç¬¬ä¸‰æ­¥: å¯åŠ¨å¼€å‘

```bash
# Terminal 1: å¯åŠ¨ç»„ä»¶æä¾›æ–¹ (Vite)
cd component-provider
npm run dev  # http://localhost:5173

# Terminal 2: å¯åŠ¨å®¿ä¸»åº”ç”¨
cd host-app
npm run dev  # http://localhost:8080

# è®¿é—® http://localhost:8080ï¼Œä¿®æ”¹ MyCard ä»£ç ä¼šè‡ªåŠ¨çƒ­æ›´æ–°ï¼
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. ç»„ä»¶æ˜ å°„é…ç½®

æ’ä»¶æ”¯æŒå¤šç§é…ç½®æ¨¡å¼ï¼š

```typescript
// A. é€šé…ç¬¦æ¨¡å¼ (é€‚åˆå¼€å‘è°ƒè¯•)
devToReactPlugin()

// B. å­—ç¬¦ä¸²å¿«æ·æ¨¡å¼
devToReactPlugin('MyCard')

// C. å¯¹è±¡æ˜ å°„æ¨¡å¼ (æ¨èï¼Œç”Ÿäº§å¿…é¡»)
devToReactPlugin({
  MyCard: 'src/components/MyCard.tsx',
  MyHeader: 'src/components/Header.tsx',
})
```

### 2. ReactLoader ä½¿ç”¨æ–¹å¼

```tsx
// æ–¹å¼ 1: ä½¿ç”¨ origin + name (æ¨è)
<ReactLoader
  origin="http://localhost:5173"
  name="MyCard"
  componentProps={{ title: 'æ ‡é¢˜' }}
/>

// æ–¹å¼ 2: ç›´æ¥æŒ‡å®š URL
<ReactLoader
  url="http://localhost:5173/@fs/path/to/MyCard.tsx"
  componentProps={{ title: 'æ ‡é¢˜' }}
/>
```

### 3. è°ƒè¯•é¢æ¿

å¯åŠ¨ Vite åè®¿é—®è°ƒè¯•é¢æ¿ï¼š

```
http://localhost:5173/__dev_to_react__/debug.html
```

ä½ å¯ä»¥æŸ¥çœ‹ï¼š
- **Contract çŠ¶æ€**: ç»„ä»¶æ˜ å°„é…ç½®
- **HMR ç»Ÿè®¡**: çƒ­æ›´æ–°è§¦å‘æ¬¡æ•°å’Œæ—¶é—´
- **èµ„æºè¿½è¸ª**: å·²é‡å®šå‘çš„èµ„æºåˆ—è¡¨
- **å¿«é€Ÿæµ‹è¯•**: å¤åˆ¶ç²˜è´´ç¤ºä¾‹ä»£ç 

### 4. ç”Ÿäº§æ„å»º (Library Mode)

```bash
# æ„å»º UMD åŒ…
vite build --mode lib

# è¾“å‡ºç»“æ„:
# dist/
#   MyCard/
#     MyCard.js       # UMD bundle
#     MyCard.css      # æ ·å¼æ–‡ä»¶ (å¦‚æœ‰)
#     MyCard.d.ts     # ç±»å‹å®šä¹‰
#   MyHeader/
#     MyHeader.js
#     ...
```

UMD åŒ…å¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸­ä½¿ç”¨ï¼š

```html
<script src="https://cdn.example.com/react.js"></script>
<script src="https://cdn.example.com/react-dom.js"></script>
<script src="/dist/MyCard/MyCard.js"></script>

<script>
  const { MyCard } = window.MyCard
  // ä½¿ç”¨ç»„ä»¶...
</script>
```

---

## âš™ï¸ é«˜çº§é…ç½®

### æ’ä»¶é€‰é¡¹

```js
devToReactPlugin(componentMap, {
  // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€è°ƒè¯•é¢æ¿
  open: false,

  // CSS é…ç½® (é€ä¼ ç»™ Vite)
  css: {
    modules: {
      generateScopedName: '[name]__[local]___[hash:base64:5]',
    },
  },

  // æ„å»ºé…ç½® (ä»… lib æ¨¡å¼)
  build: {
    minify: true,
    sourcemap: true,
  },
})
```

### ReactLoader Props

```typescript
interface ReactLoaderProps {
  // ç»„ä»¶æä¾›æ–¹çš„ origin (ä¸ name é…åˆä½¿ç”¨)
  origin?: string

  // ç»„ä»¶åç§° (åœ¨ componentMap ä¸­å®šä¹‰çš„ key)
  name?: string

  // æˆ–ç›´æ¥æŒ‡å®šå®Œæ•´ URL
  url?: string

  // ä¼ é€’ç»™è¿œç¨‹ç»„ä»¶çš„ props
  componentProps?: Record<string, any>

  // è‡ªå®šä¹‰ contract ç«¯ç‚¹ (é€šå¸¸ä¸éœ€è¦)
  contractEndpoint?: string
}
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å— (æœ¬ä»“åº“)

### ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/YangYongAn/dev-to.git
cd dev-to

# å®‰è£…ä¾èµ– (ä½¿ç”¨ pnpm)
pnpm install
```

### å¼€å‘å‘½ä»¤

```bash
# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# ç›‘å¬æ¨¡å¼æ„å»º
pnpm dev

# ä»£ç æ£€æŸ¥
pnpm lint

# è¿è¡Œæµ‹è¯•
pnpm test
```

### è¿è¡Œç¤ºä¾‹é¡¹ç›®

```bash
# Terminal 1: å¯åŠ¨ç»„ä»¶æä¾›æ–¹ (react-template)
cd packages/react-template
pnpm dev  # http://localhost:5173

# Terminal 2: å¯åŠ¨å®¿ä¸»åº”ç”¨ (react-playground)
cd packages/react-playground
pnpm dev  # http://localhost:8080

# è®¿é—® http://localhost:8080 æŸ¥çœ‹æ•ˆæœ
# ä¿®æ”¹ packages/react-template/src/RemoteCard/ ä¸­çš„ä»£ç ï¼ŒæŸ¥çœ‹ HMR æ•ˆæœ
```

### å‘å¸ƒæµç¨‹

æœ¬é¡¹ç›®ä½¿ç”¨ [Changesets](https://github.com/changesets/changesets) ç®¡ç†ç‰ˆæœ¬å’Œå‘å¸ƒï¼š

```bash
# 1. åˆ›å»º changeset (è®°å½•å˜æ›´)
pnpm changeset

# 2. æ›´æ–°ç‰ˆæœ¬å·å’Œ CHANGELOG
pnpm changeset version

# 3. å‘å¸ƒåˆ° npm
pnpm changeset publish

# 4. æ¨é€ tags
git push --follow-tags
```

### Commit è§„èŒƒ

æœ¬é¡¹ç›®éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```bash
# æ ¼å¼: <type>(scope): <subject>
# scope å¿…é¡»æ˜¯ä»¥ä¸‹ä¹‹ä¸€:
# - create-dev-to
# - react-loader
# - react-playground
# - react-plugin
# - react-shared
# - react-template
# - repo
# - deps
# - ci

# ç¤ºä¾‹:
git commit -m "feat(react-plugin): add debug panel"
git commit -m "fix(react-loader): resolve HMR event timing issue"
git commit -m "docs(repo): update README"
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. AI Agent æ™ºèƒ½ä½“å¹³å°ï¼ˆä¸»è¦åœºæ™¯ï¼‰

**åœºæ™¯æè¿°**: é›†å›¢æ„å»ºç»Ÿä¸€çš„ AI Agent æ™ºèƒ½ä½“å¹³å°ï¼Œå„ä¸šåŠ¡çº¿æˆ–ç¬¬ä¸‰æ–¹å¼€å‘è€…æä¾›æ™ºèƒ½ä½“å¡ç‰‡ï¼ˆå¦‚å®¢æœåŠ©æ‰‹ã€æ•°æ®çœ‹æ¿ã€å·¥å•å¤„ç†ç­‰ï¼‰

**å¼€å‘æ¨¡å¼**:
```tsx
// å®¹å™¨ä¸­é…ç½®åŠ è½½æœ¬åœ°å¼€å‘ä¸­çš„ç»„ä»¶
<ReactLoader
  origin="http://localhost:5173"  // å¼€å‘è€…çš„æœ¬åœ° Vite
  name="CustomerServiceCard"
  componentProps={{ agentId: 'cs-001' }}
/>
```

**ä¼˜åŠ¿**:
- âœ… å¼€å‘è€…åœ¨æœ¬åœ°å¼€å‘ï¼Œä¿®æ”¹ä»£ç åå®¹å™¨ä¸­çš„å¡ç‰‡å®æ—¶çƒ­æ›´æ–°
- âœ… å®¹å™¨å›¢é˜Ÿä¸éœ€è¦äº†è§£æ¯ä¸ªå¡ç‰‡çš„å†…éƒ¨å®ç°ç»†èŠ‚
- âœ… å„ä¸šåŠ¡çº¿ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ï¼Œäº’ä¸å½±å“
- âœ… ç”Ÿäº§ç¯å¢ƒå‡ºé—®é¢˜æ—¶ï¼Œå¯ä¸´æ—¶åŠ è½½æœ¬åœ°ç‰ˆæœ¬è°ƒè¯•

### 2. ä¼ä¸šå¾®å‰ç«¯å¹³å°

åœ¨ä¸»åº”ç”¨ä¸­åŠ¨æ€åŠ è½½å­åº”ç”¨çš„ React ç»„ä»¶ï¼Œå„å›¢é˜Ÿç‹¬ç«‹ç»´æŠ¤ï¼š

```tsx
<ReactLoader
  origin="http://localhost:3001"  // ä¸šåŠ¡çº¿ A çš„å¼€å‘æœåŠ¡å™¨
  name="UserDashboard"
  componentProps={{ userId: 123 }}
/>
```

### 3. ä½ä»£ç /æ— ä»£ç å¹³å°çš„è‡ªå®šä¹‰ç»„ä»¶

å¹³å°æä¾›åŸºç¡€èƒ½åŠ›ï¼Œå¼€å‘è€…æä¾›è‡ªå®šä¹‰ç»„ä»¶æ‰©å±•ï¼š

```tsx
// ä½ä»£ç å¹³å°åŠ è½½ç¬¬ä¸‰æ–¹å¼€å‘çš„è‡ªå®šä¹‰å›¾è¡¨ç»„ä»¶
<ReactLoader
  origin="http://localhost:5173"
  name="CustomChart"
  componentProps={{ dataSource: chartData }}
/>
```

### 4. Electron æ¡Œé¢åº”ç”¨çš„æ’ä»¶ç³»ç»Ÿ

åœ¨ Electron ä¸»çª—å£ä¸­åŠ è½½ç‹¬ç«‹å¼€å‘çš„æ’ä»¶ç»„ä»¶ï¼š

```tsx
<ReactLoader
  origin="http://localhost:5173"
  name="PluginSettingsPanel"
/>
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feat/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat(react-plugin): add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feat/amazing-feature`)
5. åˆ›å»º Pull Request

---

## ğŸ“„ License

MIT Â© [YangYongAn](https://github.com/YangYongAn)

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [npm - @dev-to/react-plugin](https://www.npmjs.com/package/@dev-to/react-plugin)
- [npm - @dev-to/react-loader](https://www.npmjs.com/package/@dev-to/react-loader)
- [npm - create-dev-to](https://www.npmjs.com/package/create-dev-to)
- [GitHub Issues](https://github.com/YangYongAn/dev-to/issues)

---

## â“ FAQ

<details>
<summary><b>Q: ä¸ºä»€ä¹ˆéœ€è¦ CORSï¼Ÿ</b></summary>

å®¿ä¸»åº”ç”¨å’Œ Vite Dev Server é€šå¸¸è¿è¡Œåœ¨ä¸åŒç«¯å£ï¼Œå±äºè·¨åŸŸè¯·æ±‚ã€‚å¿…é¡»åœ¨ Vite é…ç½®ä¸­å¯ç”¨ `server.cors: true`ã€‚

</details>

<details>
<summary><b>Q: ç”Ÿäº§ç¯å¢ƒå¦‚ä½•ä½¿ç”¨ï¼Ÿ</b></summary>

ç”Ÿäº§ç¯å¢ƒæœ‰ä¸¤ç§æ–¹å¼ï¼š
1. ä½¿ç”¨ `vite build --mode lib` äº§å‡ºçš„ UMD åŒ…ï¼Œé€šè¿‡ CDN æˆ–é™æ€æœåŠ¡å™¨åˆ†å‘
2. éƒ¨ç½² Vite Dev Server åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆä¸æ¨èï¼Œä»…é€‚åˆå†…éƒ¨å·¥å…·ï¼‰

</details>

<details>
<summary><b>Q: æ”¯æŒ Vue/Svelte å—ï¼Ÿ</b></summary>

ç›®å‰ä»…æ”¯æŒ Reactã€‚ä½†æ¶æ„è®¾è®¡æ˜¯æ¡†æ¶æ— å…³çš„ï¼Œç†è®ºä¸Šå¯ä»¥æ‰©å±•æ”¯æŒå…¶ä»–æ¡†æ¶ã€‚

</details>

<details>
<summary><b>Q: å¦‚ä½•å¤„ç†æ ·å¼å†²çªï¼Ÿ</b></summary>

æ¨èä½¿ç”¨ CSS Modulesï¼Œæ’ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆç¨³å®šçš„ scoped class nameï¼Œé¿å…æ ·å¼å†²çªã€‚

</details>

<details>
<summary><b>Q: HMR ä¸å·¥ä½œæ€ä¹ˆåŠï¼Ÿ</b></summary>

æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Vite é…ç½®ä¸­æ˜¯å¦å¯ç”¨äº† `server.cors`
2. å®¿ä¸»åº”ç”¨æ˜¯å¦æ­£ç¡®å¯¼å…¥äº† `init.js`ï¼ˆReactLoader ä¼šè‡ªåŠ¨å¤„ç†ï¼‰
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
4. è®¿é—®è°ƒè¯•é¢æ¿æŸ¥çœ‹è¯¦ç»†çŠ¶æ€

</details>
